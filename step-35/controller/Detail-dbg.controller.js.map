{"version":3,"file":"Detail-dbg.controller.js","names":["Detail","Controller","extend","onInit","_onInit","viewModel","JSONModel","currency","getView","setModel","router","getOwnerComponent","getRouter","getRoute","attachPatternMatched","onObjectMatched","_onObjectMatched","event","byId","reset","bindElement","path","window","decodeURIComponent","getParameter","invoicePath","model","onNavBack","_onNavBack","history","History","getInstance","previousHash","getPreviousHash","undefined","go","navTo","onRatingChange","_onRatingChange","value","resourceBundle","getModel","getResourceBundle","MessageToast","show","getText"],"sources":["Detail.controller.ts"],"sourcesContent":["import Controller from \"sap/ui/core/mvc/Controller\";\nimport Component from \"../Component\";\nimport { Route$PatternMatchedEvent } from \"sap/ui/core/routing/Route\";\nimport History from \"sap/ui/core/routing/History\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport ProductRating, { ProductRating$ChangeEvent } from \"../control/ProductRating\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\n\n/**\n * @namespace ui5.walkthrough.controller\n */\nexport default class Detail extends Controller {\n\n    onInit(): void {\n        const viewModel = new JSONModel({\n            currency: \"EUR\"\n        });\n        this.getView().setModel(viewModel, \"view\");\n\n        const router = (this.getOwnerComponent() as Component).getRouter();\n        router.getRoute(\"detail\").attachPatternMatched(this.onObjectMatched, this);\n    }\n\n    onObjectMatched(event: Route$PatternMatchedEvent): void {\n\n        (this.byId(\"rating\") as ProductRating).reset();\n        this.getView().bindElement({\n            path: \"/\" + window.decodeURIComponent((event.getParameter(\"arguments\") as any).invoicePath),\n            model: \"invoice\"\n        });\n    }\n\n    onNavBack(): void {\n        const history = History.getInstance();\n        const previousHash = history.getPreviousHash();\n\n        if (previousHash !== undefined) {\n            window.history.go(-1);\n        } else {\n            const router = (this.getOwnerComponent() as Component).getRouter();\n            router.navTo(\"overview\", {}, true);\n        }\n    }\n\n    onRatingChange(event: ProductRating$ChangeEvent): void {\n        const value = event.getParameter(\"value\");\n        const resourceBundle = (this?.getView().getModel(\"i18n\") as ResourceModel)?.getResourceBundle() as ResourceBundle;\n\n        MessageToast.show(resourceBundle.getText(\"ratingConfirmation\", [value]));\n    }\n};\n"],"mappings":";;;;;EAUA;AACA;AACA;EAFA,MAGqBA,MAAM,GAASC,UAAU,CAAAC,MAAA;IAE1CC,MAAM,WAAAC,QAAA,EAAS;MACX,MAAMC,SAAS,GAAG,IAAIC,SAAS,CAAC;QAC5BC,QAAQ,EAAE;MACd,CAAC,CAAC;MACF,IAAI,CAACC,OAAO,CAAC,CAAC,CAACC,QAAQ,CAACJ,SAAS,EAAE,MAAM,CAAC;MAE1C,MAAMK,MAAM,GAAI,IAAI,CAACC,iBAAiB,CAAC,CAAC,CAAeC,SAAS,CAAC,CAAC;MAClEF,MAAM,CAACG,QAAQ,CAAC,QAAQ,CAAC,CAACC,oBAAoB,CAAC,IAAI,CAACC,eAAe,EAAE,IAAI,CAAC;IAC9E,CAAC;IAEDA,eAAe,WAAAC,iBAACC,KAAgC,EAAQ;MAEnD,IAAI,CAACC,IAAI,CAAC,QAAQ,CAAC,CAAmBC,KAAK,CAAC,CAAC;MAC9C,IAAI,CAACX,OAAO,CAAC,CAAC,CAACY,WAAW,CAAC;QACvBC,IAAI,EAAE,GAAG,GAAGC,MAAM,CAACC,kBAAkB,CAAEN,KAAK,CAACO,YAAY,CAAC,WAAW,CAAC,CAASC,WAAW,CAAC;QAC3FC,KAAK,EAAE;MACX,CAAC,CAAC;IACN,CAAC;IAEDC,SAAS,WAAAC,WAAA,EAAS;MACd,MAAMC,OAAO,GAAGC,OAAO,CAACC,WAAW,CAAC,CAAC;MACrC,MAAMC,YAAY,GAAGH,OAAO,CAACI,eAAe,CAAC,CAAC;MAE9C,IAAID,YAAY,KAAKE,SAAS,EAAE;QAC5BZ,MAAM,CAACO,OAAO,CAACM,EAAE,CAAC,CAAC,CAAC,CAAC;MACzB,CAAC,MAAM;QACH,MAAMzB,MAAM,GAAI,IAAI,CAACC,iBAAiB,CAAC,CAAC,CAAeC,SAAS,CAAC,CAAC;QAClEF,MAAM,CAAC0B,KAAK,CAAC,UAAU,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC;MACtC;IACJ,CAAC;IAEDC,cAAc,WAAAC,gBAACrB,KAAgC,EAAQ;MACnD,MAAMsB,KAAK,GAAGtB,KAAK,CAACO,YAAY,CAAC,OAAO,CAAC;MACzC,MAAMgB,cAAc,GAAI,IAAI,EAAEhC,OAAO,CAAC,CAAC,CAACiC,QAAQ,CAAC,MAAM,CAAC,EAAoBC,iBAAiB,CAAC,CAAmB;MAEjHC,YAAY,CAACC,IAAI,CAACJ,cAAc,CAACK,OAAO,CAAC,oBAAoB,EAAE,CAACN,KAAK,CAAC,CAAC,CAAC;IAC5E;EAAC;EACJ;EAAC,OAvCmBvC,MAAM;AAAA","ignoreList":[]}